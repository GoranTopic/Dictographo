{"ast":null,"code":"import { colors } from \"../myConfig\";\nconst initial_state = {\n  /* graph payload (with minimalist structure) */\n  nodes: [],\n  links: [],\n  selected: {},\n  definedNode: {},\n  isError: false,\n  isWordNotFound: false,\n  isEmpty: true,\n  prevNode: null,\n  isLoading: true,\n  searchTerm: '',\n  DestinationTerm: '',\n  isDeepLinks: false,\n  showModal: false,\n  isSideBar: true\n};\n\nconst stateReducer = (state, action) => {\n  /* make reducer for the words data and internal state */\n  let node;\n\n  switch (action.type) {\n    case 'SET_NEW_NODES':\n      return { ...state,\n        nodes: [...state.nodes, ...action.payload]\n      };\n\n    case 'SET_NEW_LINKS':\n      return { ...state,\n        links: [...state.links, ...action.payload]\n      };\n\n    case 'SET_NODE_LINK':\n      return { ...state,\n        nodes: [...state.nodes, action.payload.node],\n        links: [...state.links, action.payload.link]\n      };\n\n    case 'SET_STATE':\n      return { ...state,\n        nodes: [...state.nodes, ...action.payload.nodes],\n        links: [...state.links, ...action.payload.links]\n      };\n\n    case 'SET_NEW_NODE':\n      return { ...state,\n        nodes: [{ ...action.payload,\n          selected: true,\n          color: colors.node.selected\n        }],\n        links: [],\n        selected: action.payload,\n        // save as selected\n        definedNode: action.payload,\n        // save as a definietion \n        isEmpty: false\n      };\n\n    case 'SET_PATH_NODE':\n      return { ...state,\n        nodes: [...state.nodes, { ...action.payload.node,\n          selected: true,\n          color: colors.node.selected\n        }],\n        links: [...state.links, { ...action.payload.link,\n          color: colors.node.selected\n        }],\n        selected: action.payload.node,\n        // save as selected\n        definedNode: action.payload.node,\n        // save as a definietion \n        isEmpty: false\n      };\n\n    case 'SET_NODE_DONE':\n      node = state.nodes.filter(node => node.id === action.payload)[0];\n      return { ...state,\n        nodes: [...state.nodes, { ...node,\n          color: colors.node.done\n        }],\n        isEmpty: false\n      };\n\n    case 'SET_DEFINED_NODE':\n      node = state.nodes.filter(node => node.id === action.payload)[0];\n      return { ...state,\n        definedNode: node\n      };\n\n    case 'ERASE_NODES':\n      return { ...state,\n        nodes: [],\n        links: []\n      };\n\n    case 'SET_SEARCH_TERM':\n      return { ...state,\n        searchTerm: action.payload\n      };\n\n    case 'SET_DEST_TERM':\n      return { ...state,\n        destinationTerm: action.payload\n      };\n\n    case 'SET_NODE_SELECTED':\n      return { ...state,\n        nodes: [...state.nodes, { ...action.payload,\n          color: colors.node.selected\n        }],\n        // change color\n        selected: action.payload\n      };\n\n    case 'SWITCH_SELECTED_NODE':\n      node = state.nodes.filter(node => node.id === action.payload)[0];\n      return { ...state,\n        nodes: [...state.nodes, { ...state.selected,\n          color: colors.node.done\n        }, { ...node,\n          color: colors.node.selected\n        }],\n        selected: node,\n        definedNode: node\n      };\n\n    case 'TOGGEL_MODAL':\n      return { ...state,\n        showModal: !state.showModal\n      };\n\n    case 'SET_SHOW_MODAL':\n      return { ...state,\n        showModal: action.payload\n      };\n\n    case 'SET_WORD_NOT_FOUND':\n      return { ...state,\n        isWordNotFound: true\n      };\n\n    case 'DISSMISS_NOT_FOUND':\n      return { ...state,\n        isWordNotFound: false\n      };\n\n    case 'TOGGLE_DEEP_LINKS':\n      return { ...state,\n        isDeepLinks: !state.isDeepLinks\n      };\n\n    case 'TOGGLE_SIDE_BAR':\n      return { ...state,\n        isSideBar: !state.isSideBar\n      };\n\n    case 'SET_FETCH_FAILED':\n      return { ...state,\n        isError: true\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nexport { initial_state, stateReducer };","map":{"version":3,"sources":["/home/telix/dictographo/frontend/src/Components/State.js"],"names":["colors","initial_state","nodes","links","selected","definedNode","isError","isWordNotFound","isEmpty","prevNode","isLoading","searchTerm","DestinationTerm","isDeepLinks","showModal","isSideBar","stateReducer","state","action","node","type","payload","link","color","filter","id","done","destinationTerm","Error"],"mappings":"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","sourcesContent":["import { colors }  from \"../myConfig\";\n\nconst initial_state = {\n\t\t/* graph payload (with minimalist structure) */\n\t\tnodes: [],\n\t\tlinks: [],\n\t\tselected:{},\n\t\tdefinedNode:{},\n\t\tisError: false,\n\t\tisWordNotFound: false,\n\t\tisEmpty: true,\n\t\tprevNode: null,\n\t\tisLoading: true,\n\t\tsearchTerm: '',\n\t\tDestinationTerm: '',\n\t\tisDeepLinks: false,\n\t\tshowModal: false,\n\t\tisSideBar: true,\n};\n\nconst stateReducer = (state, action) =>{\n\t\t/* make reducer for the words data and internal state */\n\t\tlet node;\n\t\tswitch (action.type){\n\t\t\t\tcase 'SET_NEW_NODES':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, ...action.payload ],\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NEW_LINKS':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tlinks: [ ...state.links, ...action.payload ]\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NODE_LINK':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, action.payload.node ],\n\t\t\t\t\t\t\t\tlinks: [ ...state.links, action.payload.link ]\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_STATE':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, ...action.payload.nodes ],\n\t\t\t\t\t\t\t\tlinks: [ ...state.links, ...action.payload.links ]\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NEW_NODE':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [ { ...action.payload, selected: true, color: colors.node.selected  } ],\n\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t\t\tselected: action.payload, // save as selected\n\t\t\t\t\t\t\t\tdefinedNode: action.payload, // save as a definietion \n\t\t\t\t\t\t\t\tisEmpty: false,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_PATH_NODE':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, { ...action.payload.node, selected: true, color: colors.node.selected } ],\n\t\t\t\t\t\t\t\tlinks: [ ...state.links, { ...action.payload.link, color: colors.node.selected } ],\n\t\t\t\t\t\t\t\tselected: action.payload.node, // save as selected\n\t\t\t\t\t\t\t\tdefinedNode: action.payload.node, // save as a definietion \n\t\t\t\t\t\t\t\tisEmpty: false,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NODE_DONE':\n\t\t\t\t\t\tnode = state.nodes.filter( node => node.id === action.payload )[0];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, { ...node, color: colors.node.done }], \n\t\t\t\t\t\t\t\tisEmpty: false,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_DEFINED_NODE':\n\t\t\t\t\t\tnode = state.nodes.filter( node => node.id === action.payload )[0];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tdefinedNode: node,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'ERASE_NODES':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [],\n\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_SEARCH_TERM':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tsearchTerm: action.payload,\t\t\t\t\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_DEST_TERM':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tdestinationTerm: action.payload,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NODE_SELECTED':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, { ...action.payload, color: colors.node.selected }], // change color\n\t\t\t\t\t\t\t\tselected: action.payload,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SWITCH_SELECTED_NODE':\n\t\t\t\t\t\tnode = state.nodes.filter( node => node.id === action.payload )[0];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [ \n\t\t\t\t\t\t\t\t\t\t...state.nodes, \n\t\t\t\t\t\t\t\t\t\t{ ...state.selected, color: colors.node.done, }, \n\t\t\t\t\t\t\t\t\t\t{ ...node, color: colors.node.selected },\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tselected: node,\n\t\t\t\t\t\t\t\tdefinedNode: node,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'TOGGEL_MODAL':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tshowModal: !state.showModal,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_SHOW_MODAL':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tshowModal: action.payload,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_WORD_NOT_FOUND':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisWordNotFound: true,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'DISSMISS_NOT_FOUND':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisWordNotFound: false,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'TOGGLE_DEEP_LINKS':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisDeepLinks: !state.isDeepLinks,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'TOGGLE_SIDE_BAR':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisSideBar: !state.isSideBar,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_FETCH_FAILED':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error();\n\t\t}\n}\n\nexport { initial_state, stateReducer };\n\n"]},"metadata":{},"sourceType":"module"}