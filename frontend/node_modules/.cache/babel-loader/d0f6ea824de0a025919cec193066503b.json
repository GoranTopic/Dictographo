{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildLinkProps = buildLinkProps;\nexports.buildNodeProps = buildNodeProps;\n\nvar _graph = _interopRequireDefault(require(\"./graph.const\"));\n\nvar _link = require(\"../link/link.helper\");\n\nvar _marker = require(\"../marker/marker.helper\");\n\nvar _graph2 = require(\"./graph.helper\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/**\n * Get the correct node opacity in order to properly make decisions based on context such as currently highlighted node.\n * @param  {Object} node - the node object for whom we will generate properties.\n * @param  {string} highlightedNode - same as {@link #graphrenderer|highlightedNode in renderGraph}.\n * @param  {Object} highlightedLink - same as {@link #graphrenderer|highlightedLink in renderGraph}.\n * @param  {Object} config - same as {@link #graphrenderer|config in renderGraph}.\n * @returns {number} the opacity value for the given node.\n * @memberof Graph/builder\n */\n\n\nfunction _getNodeOpacity(node, highlightedNode, highlightedLink, config) {\n  var highlight = node.highlighted || node.id === (highlightedLink && highlightedLink.source) || node.id === (highlightedLink && highlightedLink.target);\n  var someLinkHighlighted = highlightedLink && highlightedLink.source && highlightedLink.target;\n  var someNodeHighlighted = !!(highlightedNode || someLinkHighlighted);\n  var opacity;\n\n  if (someNodeHighlighted && config.highlightDegree === 0) {\n    opacity = highlight ? config.node.opacity : config.highlightOpacity;\n  } else if (someNodeHighlighted) {\n    opacity = highlight ? config.node.opacity : config.highlightOpacity;\n  } else {\n    opacity = node.opacity || config.node.opacity;\n  }\n\n  return opacity;\n}\n/**\n * Build some Link properties based on given parameters.\n * @param  {Object} link - the link object for which we will generate properties.\n * @param  {Object.<string, Object>} nodes - same as {@link #graphrenderer|nodes in renderGraph}.\n * @param  {Object.<string, Object>} links - same as {@link #graphrenderer|links in renderGraph}.\n * @param  {Object} config - same as {@link #graphrenderer|config in renderGraph}.\n * @param  {Function[]} linkCallbacks - same as {@link #graphrenderer|linkCallbacks in renderGraph}.\n * @param  {string} highlightedNode - same as {@link #graphrenderer|highlightedNode in renderGraph}.\n * @param  {Object} highlightedLink - same as {@link #graphrenderer|highlightedLink in renderGraph}.\n * @param  {number} transform - value that indicates the amount of zoom transformation.\n * @returns {Object} returns an object that aggregates all props for creating respective Link component instance.\n * @memberof Graph/builder\n */\n\n\nfunction buildLinkProps(link, nodes, links, config, linkCallbacks, highlightedNode, highlightedLink, transform) {\n  var _nodes$source, _nodes$source2, _nodes$target, _nodes$target2;\n\n  var source = link.source,\n      target = link.target;\n  var x1 = (nodes === null || nodes === void 0 ? void 0 : (_nodes$source = nodes[source]) === null || _nodes$source === void 0 ? void 0 : _nodes$source.x) || 0;\n  var y1 = (nodes === null || nodes === void 0 ? void 0 : (_nodes$source2 = nodes[source]) === null || _nodes$source2 === void 0 ? void 0 : _nodes$source2.y) || 0;\n  var x2 = (nodes === null || nodes === void 0 ? void 0 : (_nodes$target = nodes[target]) === null || _nodes$target === void 0 ? void 0 : _nodes$target.x) || 0;\n  var y2 = (nodes === null || nodes === void 0 ? void 0 : (_nodes$target2 = nodes[target]) === null || _nodes$target2 === void 0 ? void 0 : _nodes$target2.y) || 0;\n  var type = link.type || config.link.type;\n  var mainNodeParticipates = false;\n\n  switch (config.highlightDegree) {\n    case 0:\n      break;\n\n    case 2:\n      mainNodeParticipates = true;\n      break;\n\n    default:\n      // 1st degree is the fallback behavior\n      mainNodeParticipates = source === highlightedNode || target === highlightedNode;\n      break;\n  }\n\n  var guiltyNode = mainNodeParticipates && nodes[source].highlighted && nodes[target].highlighted;\n  var guiltyLink = source === (highlightedLink && highlightedLink.source) && target === (highlightedLink && highlightedLink.target);\n  var highlight = guiltyNode || guiltyLink;\n  var opacity = link.opacity || config.link.opacity;\n\n  if (highlightedNode || highlightedLink && highlightedLink.source) {\n    opacity = highlight ? config.link.opacity : config.highlightOpacity;\n  }\n\n  var stroke = link.color || config.link.color;\n\n  if (highlight) {\n    stroke = config.link.highlightColor === _graph[\"default\"].KEYWORDS.SAME ? config.link.color : config.link.highlightColor;\n  }\n\n  var strokeWidth = (link.strokeWidth || config.link.strokeWidth) * (1 / transform);\n\n  if (config.link.semanticStrokeWidth) {\n    var linkValue = links[source][target] || links[target][source] || 1;\n    strokeWidth += linkValue * strokeWidth / 10;\n  }\n\n  var markerId = config.directed ? (0, _marker.getMarkerId)(highlight, transform, config) : null;\n  var t = 1 / transform;\n  var fontSize = null,\n      fontColor = null,\n      fontWeight = null,\n      label = null;\n\n  if (config.link.renderLabel) {\n    if (typeof config.link.labelProperty === \"function\") {\n      label = config.link.labelProperty(link);\n    } else {\n      label = link[config.link.labelProperty];\n    }\n\n    fontSize = link.fontSize || config.link.fontSize;\n    fontColor = link.fontColor || config.link.fontColor;\n    fontWeight = highlight ? config.link.highlightFontWeight : config.link.fontWeight;\n  }\n\n  var normalizedNodeCoordinates = (0, _graph2.getNormalizedNodeCoordinates)({\n    source: {\n      x: x1,\n      y: y1\n    },\n    target: {\n      x: x2,\n      y: y2\n    }\n  }, nodes, config, strokeWidth);\n  var d = (0, _link.buildLinkPathDefinition)(normalizedNodeCoordinates, type);\n  return {\n    className: _graph[\"default\"].LINK_CLASS_NAME,\n    d: d,\n    fontColor: fontColor,\n    fontSize: fontSize * t,\n    fontWeight: fontWeight,\n    label: label,\n    markerId: markerId,\n    mouseCursor: config.link.mouseCursor,\n    opacity: opacity,\n    source: source,\n    stroke: stroke,\n    strokeWidth: strokeWidth,\n    target: target,\n    onClickLink: linkCallbacks.onClickLink,\n    onMouseOutLink: linkCallbacks.onMouseOutLink,\n    onMouseOverLink: linkCallbacks.onMouseOverLink,\n    onRightClickLink: linkCallbacks.onRightClickLink\n  };\n}\n/**\n * Build some Node properties based on given parameters.\n * @param  {Object} node - the node object for whom we will generate properties.\n * @param  {Object} config - same as {@link #graphrenderer|config in renderGraph}.\n * @param  {Function[]} nodeCallbacks - same as {@link #graphrenderer|nodeCallbacks in renderGraph}.\n * @param  {string} highlightedNode - same as {@link #graphrenderer|highlightedNode in renderGraph}.\n * @param  {Object} highlightedLink - same as {@link #graphrenderer|highlightedLink in renderGraph}.\n * @param  {number} transform - value that indicates the amount of zoom transformation.\n * @returns {Object} returns object that contain Link props ready to be feeded to the Link component.\n * @memberof Graph/builder\n */\n\n\nfunction buildNodeProps(node, config) {\n  var nodeCallbacks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var highlightedNode = arguments.length > 3 ? arguments[3] : undefined;\n  var highlightedLink = arguments.length > 4 ? arguments[4] : undefined;\n  var transform = arguments.length > 5 ? arguments[5] : undefined;\n  var highlight = node.highlighted || node.id === (highlightedLink && highlightedLink.source) || node.id === (highlightedLink && highlightedLink.target);\n\n  var opacity = _getNodeOpacity(node, highlightedNode, highlightedLink, config);\n\n  var fill = node.color || config.node.color;\n\n  if (highlight && config.node.highlightColor !== _graph[\"default\"].KEYWORDS.SAME) {\n    fill = config.node.highlightColor;\n  }\n\n  var stroke = node.strokeColor || config.node.strokeColor;\n\n  if (highlight && config.node.highlightStrokeColor !== _graph[\"default\"].KEYWORDS.SAME) {\n    stroke = config.node.highlightStrokeColor;\n  }\n\n  var label = node[config.node.labelProperty] || node.id;\n\n  if (typeof config.node.labelProperty === \"function\") {\n    label = config.node.labelProperty(node);\n  }\n\n  var labelPosition = node.labelPosition || config.node.labelPosition;\n  var strokeWidth = node.strokeWidth || config.node.strokeWidth;\n\n  if (highlight && config.node.highlightStrokeWidth !== _graph[\"default\"].KEYWORDS.SAME) {\n    strokeWidth = config.node.highlightStrokeWidth;\n  }\n\n  var t = 1 / transform;\n  var nodeSize = node.size || config.node.size;\n  var offset;\n  var isSizeNumericValue = _typeof(nodeSize) !== \"object\";\n\n  if (isSizeNumericValue) {\n    offset = nodeSize;\n  } else if (labelPosition === \"top\" || labelPosition === \"bottom\") {\n    offset = nodeSize.height;\n  } else {\n    nodeSize.width;\n  }\n\n  var fontSize = highlight ? config.node.highlightFontSize : config.node.fontSize;\n  var dx = fontSize * t + offset / 100 + 1.5;\n  var svg = node.svg || config.node.svg;\n  var fontColor = node.fontColor || config.node.fontColor;\n  var renderLabel = config.node.renderLabel;\n\n  if (node.renderLabel !== undefined && typeof node.renderLabel === \"boolean\") {\n    renderLabel = node.renderLabel;\n  }\n\n  return _objectSpread({}, node, {\n    className: _graph[\"default\"].NODE_CLASS_NAME,\n    cursor: config.node.mouseCursor,\n    cx: (node === null || node === void 0 ? void 0 : node.x) || \"0\",\n    cy: (node === null || node === void 0 ? void 0 : node.y) || \"0\",\n    dx: dx,\n    fill: fill,\n    fontColor: fontColor,\n    fontSize: fontSize * t,\n    fontWeight: highlight ? config.node.highlightFontWeight : config.node.fontWeight,\n    id: node.id,\n    label: label,\n    labelPosition: labelPosition,\n    opacity: opacity,\n    overrideGlobalViewGenerator: !node.viewGenerator && node.svg,\n    renderLabel: renderLabel,\n    size: isSizeNumericValue ? nodeSize * t : {\n      height: nodeSize.height * t,\n      width: nodeSize.width * t\n    },\n    stroke: stroke,\n    strokeWidth: strokeWidth * t,\n    svg: svg,\n    type: node.symbolType || config.node.symbolType,\n    viewGenerator: node.viewGenerator || config.node.viewGenerator,\n    onClickNode: nodeCallbacks.onClickNode,\n    onMouseOut: nodeCallbacks.onMouseOut,\n    onMouseOverNode: nodeCallbacks.onMouseOverNode,\n    onRightClickNode: nodeCallbacks.onRightClickNode\n  });\n}","map":{"version":3,"sources":["/home/telix/dictographo/frontend/node_modules/react-d3-graph/lib/components/graph/graph.builder.js"],"names":["Object","defineProperty","exports","value","buildLinkProps","buildNodeProps","_graph","_interopRequireDefault","require","_link","_marker","_graph2","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_typeof","Symbol","iterator","constructor","prototype","_getNodeOpacity","node","highlightedNode","highlightedLink","config","highlight","highlighted","id","someLinkHighlighted","someNodeHighlighted","opacity","highlightDegree","highlightOpacity","link","nodes","links","linkCallbacks","transform","_nodes$source","_nodes$source2","_nodes$target","_nodes$target2","x1","x","y1","y","x2","y2","type","mainNodeParticipates","guiltyNode","guiltyLink","stroke","color","highlightColor","KEYWORDS","SAME","strokeWidth","semanticStrokeWidth","linkValue","markerId","directed","getMarkerId","t","fontSize","fontColor","fontWeight","label","renderLabel","labelProperty","highlightFontWeight","normalizedNodeCoordinates","getNormalizedNodeCoordinates","d","buildLinkPathDefinition","className","LINK_CLASS_NAME","mouseCursor","onClickLink","onMouseOutLink","onMouseOverLink","onRightClickLink","nodeCallbacks","undefined","fill","strokeColor","highlightStrokeColor","labelPosition","highlightStrokeWidth","nodeSize","size","offset","isSizeNumericValue","height","width","highlightFontSize","dx","svg","NODE_CLASS_NAME","cursor","cx","cy","overrideGlobalViewGenerator","viewGenerator","symbolType","onClickNode","onMouseOut","onMouseOverNode","onRightClickNode"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildLinkProps = buildLinkProps;\nexports.buildNodeProps = buildNodeProps;\n\nvar _graph = _interopRequireDefault(require(\"./graph.const\"));\n\nvar _link = require(\"../link/link.helper\");\n\nvar _marker = require(\"../marker/marker.helper\");\n\nvar _graph2 = require(\"./graph.helper\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Get the correct node opacity in order to properly make decisions based on context such as currently highlighted node.\n * @param  {Object} node - the node object for whom we will generate properties.\n * @param  {string} highlightedNode - same as {@link #graphrenderer|highlightedNode in renderGraph}.\n * @param  {Object} highlightedLink - same as {@link #graphrenderer|highlightedLink in renderGraph}.\n * @param  {Object} config - same as {@link #graphrenderer|config in renderGraph}.\n * @returns {number} the opacity value for the given node.\n * @memberof Graph/builder\n */\nfunction _getNodeOpacity(node, highlightedNode, highlightedLink, config) {\n  var highlight = node.highlighted || node.id === (highlightedLink && highlightedLink.source) || node.id === (highlightedLink && highlightedLink.target);\n  var someLinkHighlighted = highlightedLink && highlightedLink.source && highlightedLink.target;\n  var someNodeHighlighted = !!(highlightedNode || someLinkHighlighted);\n  var opacity;\n\n  if (someNodeHighlighted && config.highlightDegree === 0) {\n    opacity = highlight ? config.node.opacity : config.highlightOpacity;\n  } else if (someNodeHighlighted) {\n    opacity = highlight ? config.node.opacity : config.highlightOpacity;\n  } else {\n    opacity = node.opacity || config.node.opacity;\n  }\n\n  return opacity;\n}\n/**\n * Build some Link properties based on given parameters.\n * @param  {Object} link - the link object for which we will generate properties.\n * @param  {Object.<string, Object>} nodes - same as {@link #graphrenderer|nodes in renderGraph}.\n * @param  {Object.<string, Object>} links - same as {@link #graphrenderer|links in renderGraph}.\n * @param  {Object} config - same as {@link #graphrenderer|config in renderGraph}.\n * @param  {Function[]} linkCallbacks - same as {@link #graphrenderer|linkCallbacks in renderGraph}.\n * @param  {string} highlightedNode - same as {@link #graphrenderer|highlightedNode in renderGraph}.\n * @param  {Object} highlightedLink - same as {@link #graphrenderer|highlightedLink in renderGraph}.\n * @param  {number} transform - value that indicates the amount of zoom transformation.\n * @returns {Object} returns an object that aggregates all props for creating respective Link component instance.\n * @memberof Graph/builder\n */\n\n\nfunction buildLinkProps(link, nodes, links, config, linkCallbacks, highlightedNode, highlightedLink, transform) {\n  var _nodes$source, _nodes$source2, _nodes$target, _nodes$target2;\n\n  var source = link.source,\n      target = link.target;\n  var x1 = (nodes === null || nodes === void 0 ? void 0 : (_nodes$source = nodes[source]) === null || _nodes$source === void 0 ? void 0 : _nodes$source.x) || 0;\n  var y1 = (nodes === null || nodes === void 0 ? void 0 : (_nodes$source2 = nodes[source]) === null || _nodes$source2 === void 0 ? void 0 : _nodes$source2.y) || 0;\n  var x2 = (nodes === null || nodes === void 0 ? void 0 : (_nodes$target = nodes[target]) === null || _nodes$target === void 0 ? void 0 : _nodes$target.x) || 0;\n  var y2 = (nodes === null || nodes === void 0 ? void 0 : (_nodes$target2 = nodes[target]) === null || _nodes$target2 === void 0 ? void 0 : _nodes$target2.y) || 0;\n  var type = link.type || config.link.type;\n  var mainNodeParticipates = false;\n\n  switch (config.highlightDegree) {\n    case 0:\n      break;\n\n    case 2:\n      mainNodeParticipates = true;\n      break;\n\n    default:\n      // 1st degree is the fallback behavior\n      mainNodeParticipates = source === highlightedNode || target === highlightedNode;\n      break;\n  }\n\n  var guiltyNode = mainNodeParticipates && nodes[source].highlighted && nodes[target].highlighted;\n  var guiltyLink = source === (highlightedLink && highlightedLink.source) && target === (highlightedLink && highlightedLink.target);\n  var highlight = guiltyNode || guiltyLink;\n  var opacity = link.opacity || config.link.opacity;\n\n  if (highlightedNode || highlightedLink && highlightedLink.source) {\n    opacity = highlight ? config.link.opacity : config.highlightOpacity;\n  }\n\n  var stroke = link.color || config.link.color;\n\n  if (highlight) {\n    stroke = config.link.highlightColor === _graph[\"default\"].KEYWORDS.SAME ? config.link.color : config.link.highlightColor;\n  }\n\n  var strokeWidth = (link.strokeWidth || config.link.strokeWidth) * (1 / transform);\n\n  if (config.link.semanticStrokeWidth) {\n    var linkValue = links[source][target] || links[target][source] || 1;\n    strokeWidth += linkValue * strokeWidth / 10;\n  }\n\n  var markerId = config.directed ? (0, _marker.getMarkerId)(highlight, transform, config) : null;\n  var t = 1 / transform;\n  var fontSize = null,\n      fontColor = null,\n      fontWeight = null,\n      label = null;\n\n  if (config.link.renderLabel) {\n    if (typeof config.link.labelProperty === \"function\") {\n      label = config.link.labelProperty(link);\n    } else {\n      label = link[config.link.labelProperty];\n    }\n\n    fontSize = link.fontSize || config.link.fontSize;\n    fontColor = link.fontColor || config.link.fontColor;\n    fontWeight = highlight ? config.link.highlightFontWeight : config.link.fontWeight;\n  }\n\n  var normalizedNodeCoordinates = (0, _graph2.getNormalizedNodeCoordinates)({\n    source: {\n      x: x1,\n      y: y1\n    },\n    target: {\n      x: x2,\n      y: y2\n    }\n  }, nodes, config, strokeWidth);\n  var d = (0, _link.buildLinkPathDefinition)(normalizedNodeCoordinates, type);\n  return {\n    className: _graph[\"default\"].LINK_CLASS_NAME,\n    d: d,\n    fontColor: fontColor,\n    fontSize: fontSize * t,\n    fontWeight: fontWeight,\n    label: label,\n    markerId: markerId,\n    mouseCursor: config.link.mouseCursor,\n    opacity: opacity,\n    source: source,\n    stroke: stroke,\n    strokeWidth: strokeWidth,\n    target: target,\n    onClickLink: linkCallbacks.onClickLink,\n    onMouseOutLink: linkCallbacks.onMouseOutLink,\n    onMouseOverLink: linkCallbacks.onMouseOverLink,\n    onRightClickLink: linkCallbacks.onRightClickLink\n  };\n}\n/**\n * Build some Node properties based on given parameters.\n * @param  {Object} node - the node object for whom we will generate properties.\n * @param  {Object} config - same as {@link #graphrenderer|config in renderGraph}.\n * @param  {Function[]} nodeCallbacks - same as {@link #graphrenderer|nodeCallbacks in renderGraph}.\n * @param  {string} highlightedNode - same as {@link #graphrenderer|highlightedNode in renderGraph}.\n * @param  {Object} highlightedLink - same as {@link #graphrenderer|highlightedLink in renderGraph}.\n * @param  {number} transform - value that indicates the amount of zoom transformation.\n * @returns {Object} returns object that contain Link props ready to be feeded to the Link component.\n * @memberof Graph/builder\n */\n\n\nfunction buildNodeProps(node, config) {\n  var nodeCallbacks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var highlightedNode = arguments.length > 3 ? arguments[3] : undefined;\n  var highlightedLink = arguments.length > 4 ? arguments[4] : undefined;\n  var transform = arguments.length > 5 ? arguments[5] : undefined;\n  var highlight = node.highlighted || node.id === (highlightedLink && highlightedLink.source) || node.id === (highlightedLink && highlightedLink.target);\n\n  var opacity = _getNodeOpacity(node, highlightedNode, highlightedLink, config);\n\n  var fill = node.color || config.node.color;\n\n  if (highlight && config.node.highlightColor !== _graph[\"default\"].KEYWORDS.SAME) {\n    fill = config.node.highlightColor;\n  }\n\n  var stroke = node.strokeColor || config.node.strokeColor;\n\n  if (highlight && config.node.highlightStrokeColor !== _graph[\"default\"].KEYWORDS.SAME) {\n    stroke = config.node.highlightStrokeColor;\n  }\n\n  var label = node[config.node.labelProperty] || node.id;\n\n  if (typeof config.node.labelProperty === \"function\") {\n    label = config.node.labelProperty(node);\n  }\n\n  var labelPosition = node.labelPosition || config.node.labelPosition;\n  var strokeWidth = node.strokeWidth || config.node.strokeWidth;\n\n  if (highlight && config.node.highlightStrokeWidth !== _graph[\"default\"].KEYWORDS.SAME) {\n    strokeWidth = config.node.highlightStrokeWidth;\n  }\n\n  var t = 1 / transform;\n  var nodeSize = node.size || config.node.size;\n  var offset;\n  var isSizeNumericValue = _typeof(nodeSize) !== \"object\";\n\n  if (isSizeNumericValue) {\n    offset = nodeSize;\n  } else if (labelPosition === \"top\" || labelPosition === \"bottom\") {\n    offset = nodeSize.height;\n  } else {\n    nodeSize.width;\n  }\n\n  var fontSize = highlight ? config.node.highlightFontSize : config.node.fontSize;\n  var dx = fontSize * t + offset / 100 + 1.5;\n  var svg = node.svg || config.node.svg;\n  var fontColor = node.fontColor || config.node.fontColor;\n  var renderLabel = config.node.renderLabel;\n\n  if (node.renderLabel !== undefined && typeof node.renderLabel === \"boolean\") {\n    renderLabel = node.renderLabel;\n  }\n\n  return _objectSpread({}, node, {\n    className: _graph[\"default\"].NODE_CLASS_NAME,\n    cursor: config.node.mouseCursor,\n    cx: (node === null || node === void 0 ? void 0 : node.x) || \"0\",\n    cy: (node === null || node === void 0 ? void 0 : node.y) || \"0\",\n    dx: dx,\n    fill: fill,\n    fontColor: fontColor,\n    fontSize: fontSize * t,\n    fontWeight: highlight ? config.node.highlightFontWeight : config.node.fontWeight,\n    id: node.id,\n    label: label,\n    labelPosition: labelPosition,\n    opacity: opacity,\n    overrideGlobalViewGenerator: !node.viewGenerator && node.svg,\n    renderLabel: renderLabel,\n    size: isSizeNumericValue ? nodeSize * t : {\n      height: nodeSize.height * t,\n      width: nodeSize.width * t\n    },\n    stroke: stroke,\n    strokeWidth: strokeWidth * t,\n    svg: svg,\n    type: node.symbolType || config.node.symbolType,\n    viewGenerator: node.viewGenerator || config.node.viewGenerator,\n    onClickNode: nodeCallbacks.onClickNode,\n    onMouseOut: nodeCallbacks.onMouseOut,\n    onMouseOverNode: nodeCallbacks.onMouseOverNode,\n    onRightClickNode: nodeCallbacks.onRightClickNode\n  });\n}"]},"metadata":{},"sourceType":"script"}