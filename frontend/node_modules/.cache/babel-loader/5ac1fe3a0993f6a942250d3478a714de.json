{"ast":null,"code":"import { colors } from \"../myConfig\";\nconst initial_state = {\n  /* graph payload (with minimalist structure) */\n  nodes: [],\n  // the master node information \n  links: [],\n  //the master links information\n  d3Data: {\n    // the copy of data for the d3 graph\n    nodes: [],\n    links: []\n  },\n  forceData: {\n    // th copy of data for the force graphs\n    nodes: [],\n    links: []\n  },\n  selected: {},\n  definedNode: {},\n  graphType: '3D',\n  isError: false,\n  errorMsg: \"\",\n  isFetchFailed: false,\n  isWordNotFound: false,\n  wordsNotFound: [],\n  isPathNotFound: false,\n  pathsNotFound: [],\n  isEmpty: true,\n  isLoading: true,\n  searchTerm: '',\n  DestinationTerm: '',\n  isDeepLinks: false,\n  showModal: false,\n  isSideBar: true\n};\n\nconst stateReducer = (state, action) => {\n  /* make reducer for the words data and internal state */\n  let node;\n  let stringLink;\n  /* finds a node with a given string and colors the node */\n\n  const findIdNcolor = (selectedNode, color) => node => node.id === selectedNode ? { ...node,\n    color: color\n  } : node;\n  /* reomeves the duplicate node or link in a array */\n\n\n  const removeDuplicateWithSet = array => {\n    let jsonObject = array.map(JSON.stringify);\n    let uniqueSet = new Set(jsonObject);\n    let uniqueArray = Array.from(uniqueSet).map(JSON.parse);\n    return uniqueArray;\n  };\n\n  const removeDuplicateNodes = nodes => {\n    let keys = new Set();\n    let uniqueArray = [];\n    nodes.forEach(node => {\n      if (!keys.has(node.id)) {\n        // if it is not in unique keys\n        uniqueArray.push(node);\n        keys.add(node.id);\n      }\n    });\n    return uniqueArray;\n  };\n\n  const removeDuplicateLinks = links => {\n    let keys = new Set();\n    let uniqueArray = [];\n    links.forEach(link => {\n      // if it is an link\n      let id = link.source + ',' + link.target;\n\n      if (!keys.has(id)) {\n        // if it is not in unique keys\n        uniqueArray.push(link);\n        keys.add(id);\n      }\n    });\n    return uniqueArray;\n  };\n\n  switch (action.type) {\n    case 'SET_NEW_NODES':\n      return { ...state,\n        nodes: [...state.nodes, ...action.payload],\n        d3Data: { ...state.d3Data,\n          nodes: [...state.d3Data.nodes, ...action.payload]\n        },\n        forceData: { ...state.forceData,\n          nodes: [...state.forceData.nodes, ...action.payload]\n        }\n      };\n\n    case 'SET_NEW_LINKS':\n      return { ...state,\n        links: [...state.links, ...action.payload],\n        d3Data: { ...state.d3Data,\n          links: [...state.d3Data.links, ...action.payload]\n        },\n        forceData: { ...state.forceData,\n          links: [...state.forceData.links, ...action.payload]\n        }\n      };\n\n    case 'SET_NEW_LINK':\n      stringLink = { ...action.payload,\n        source: action.payload.source.id,\n        target: action.payload.target.id\n      };\n      return { ...state,\n        links: [...state.links, stringLink],\n        d3Data: { ...state.d3Data,\n          links: removeDuplicateWithSet([...state.d3Data.links, stringLink])\n        },\n        forceData: { ...state.forceData,\n          links: [...state.forceData.links, action.payload]\n        }\n      };\n\n    case 'SET_NODE_LINK':\n      stringLink = { ...action.payload.link,\n        source: action.payload.link.source.id,\n        target: action.payload.link.target.id,\n        color: colors.link.default\n      };\n      return { ...state,\n        nodes: removeDuplicateNodes([...state.nodes, action.payload.node]),\n        links: removeDuplicateLinks([...state.links, stringLink]),\n        d3Data: { ...state.d3Data,\n          nodes: removeDuplicateNodes([...state.d3Data.nodes, { ...action.payload.node\n          }]),\n          links: removeDuplicateWithSet([...state.d3Data.links, stringLink])\n        },\n        forceData: { ...state.forceData,\n          nodes: [...state.forceData.nodes, action.payload.node],\n          links: [...state.forceData.links, stringLink]\n        }\n      };\n\n    case 'CLEAR_LINKS':\n      return { ...state,\n        links: [],\n        d3Data: { ...state.d3Data,\n          links: []\n        },\n        forceData: { ...state.forceData,\n          links: []\n        }\n      };\n\n    case 'CLEAR_NODES':\n      return { ...state,\n        nodes: [],\n        d3Data: { ...state.d3Data,\n          nodes: []\n        },\n        forceData: { ...state.forceData,\n          nodes: []\n        }\n      };\n\n    case 'SET_STATE':\n      return { ...state,\n        nodes: [...state.nodes, ...action.payload.nodes],\n        links: [...state.links, ...action.payload.links],\n        d3Data: { ...state.d3Data,\n          nodes: [...state.d3Data.nodes, ...action.payload.nodes],\n          links: [...state.d3Data.links, ...action.payload.links]\n        },\n        forceData: { ...state.forceData,\n          nodes: [...state.forceData.nodes, ...action.payload.nodes],\n          links: [...state.forceData.links, ...action.payload.links]\n        }\n      };\n\n    case 'SET_NEW_NODE':\n      return { ...state,\n        nodes: [{ ...action.payload\n        }],\n        links: [],\n        d3Data: { ...state.d3Data,\n          nodes: [{ ...action.payload,\n            selected: true,\n            color: colors.node.selected\n          }],\n          links: []\n        },\n        forceData: { ...state.forceData,\n          nodes: [action.payload],\n          links: []\n        },\n        selected: action.payload,\n        // save as selected\n        definedNode: action.payload,\n        // save as a definietion \n        isEmpty: false\n      };\n\n    case 'SET_PATH_NODE':\n      return { ...state,\n        nodes: [...state.nodes, { ...action.payload.node,\n          selected: true\n        }],\n        links: [...state.links, { ...action.payload.link,\n          color: colors.link.onPath\n        }],\n        d3Data: { ...state.d3Data,\n          nodes: [...state.d3Data.nodes, { ...action.payload.node,\n            selected: true\n          }],\n          links: [...state.d3Data.links, { ...action.payload.link,\n            color: colors.link.onPath\n          }]\n        },\n        forceData: { ...state.forceData,\n          nodes: [...state.forceData.nodes, { ...action.payload.node,\n            selected: true\n          }],\n          links: [...state.forceData.links, { ...action.payload.link,\n            color: colors.link.onPath\n          }]\n        },\n        selected: action.payload.node,\n        // save as selected\n        definedNode: action.payload.node,\n        // save as a definietion \n        isEmpty: false\n      };\n\n    case 'SET_NODE_DONE':\n      console.log(\"switch color to node:\");\n      console.log(state.nodes.map(findIdNcolor(action.payload.id, colors.node.selected)));\n      return { ...state,\n        d3Data: { ...state.d3Data,\n          nodes: state.d3Data.nodes.map(findIdNcolor(action.payload.id, colors.node.done))\n        },\n        isEmpty: false\n      };\n\n    case 'SET_DEFINED_NODE':\n      node = state.nodes.filter(node => node.id === action.payload)[0];\n      return { ...state,\n        definedNode: node\n      };\n\n    case 'SET_NODE_SELECTED':\n      return { ...state,\n        d3Data: { ...state.d3Data,\n          nodes: state.d3Data.nodes.map(findIdNcolor(action.payload.id, colors.node.selected))\n        },\n        selected: action.payload\n      };\n\n    case 'SWITCH_SELECTED_NODE':\n      console.log(\"switch color to node:\");\n      console.log(state.nodes.map(findIdNcolor(action.payload.id, colors.node.selected)));\n      return { ...state,\n        d3Data: { ...state.d3Data,\n          nodes: state.d3Data.nodes.map(findIdNcolor(action.payload.id, colors.node.selected))\n        },\n        selected: action.payload,\n        definedNode: action.payload\n      };\n\n    case 'ERASE_NODES':\n      return { ...state,\n        nodes: [],\n        links: []\n      };\n\n    case 'SET_SEARCH_TERM':\n      return { ...state,\n        searchTerm: action.payload\n      };\n\n    case 'SET_DEST_TERM':\n      return { ...state,\n        destinationTerm: action.payload\n      };\n\n    case 'TOGGEL_MODAL':\n      return { ...state,\n        showModal: !state.showModal\n      };\n\n    case 'SET_SHOW_MODAL':\n      return { ...state,\n        showModal: action.payload\n      };\n\n    case 'SET_WORD_NOT_FOUND':\n      return { ...state,\n        isError: true,\n        isWordNotFound: true,\n        // add not found wors to list\n        wordsNotFound: new Set([...state.wordsNotFound, action.payload])\n      };\n\n    case 'SET_PATH_NOT_FOUND':\n      return { ...state,\n        isError: true,\n        isPathNotFound: true,\n        pathsNotFound: new Set([...state.pathsNotFound, { ...action.payload\n        }])\n      };\n\n    case 'DISSMISS_ERROR':\n      return { ...state,\n        isError: false,\n        errorMsg: \"\",\n        isWordNotFound: false,\n        wordsNotFound: [],\n        isPathNotFound: false,\n        pathsNotFound: []\n      };\n\n    case 'TOGGLE_DEEP_LINKS':\n      return { ...state,\n        isDeepLinks: !state.isDeepLinks\n      };\n\n    case 'TOGGLE_SIDE_BAR':\n      return { ...state,\n        isSideBar: !state.isSideBar\n      };\n\n    case 'SET_FETCH_FAILED':\n      return { ...state,\n        isError: true,\n        isFetchFailed: true\n      };\n\n    case 'SET_GRAPH_TYPE':\n      return { ...state,\n        // save the previous graph type\n        prevGraphType: state.graphType,\n        // set changed graph type\n        graphType: action.payload\n      };\n\n    case 'SET_ERROR':\n      return { ...state,\n        isError: true,\n        errorMsg: action.payload\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nexport { initial_state, stateReducer };","map":{"version":3,"sources":["/home/telix/dictographo/frontend/src/Components/State.js"],"names":["colors","initial_state","nodes","links","d3Data","forceData","selected","definedNode","graphType","isError","errorMsg","isFetchFailed","isWordNotFound","wordsNotFound","isPathNotFound","pathsNotFound","isEmpty","isLoading","searchTerm","DestinationTerm","isDeepLinks","showModal","isSideBar","stateReducer","state","action","node","stringLink","findIdNcolor","selectedNode","color","id","removeDuplicateWithSet","array","jsonObject","map","JSON","stringify","uniqueSet","Set","uniqueArray","Array","from","parse","removeDuplicateNodes","keys","forEach","has","push","add","removeDuplicateLinks","link","source","target","type","payload","default","onPath","console","log","done","filter","destinationTerm","prevGraphType","Error"],"mappings":"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","sourcesContent":["import { colors }  from \"../myConfig\";\n\nconst initial_state = {\n\t\t/* graph payload (with minimalist structure) */\n\t\tnodes: [], // the master node information \n\t\tlinks: [],  //the master links information\n\t\td3Data:{ // the copy of data for the d3 graph\n\t\t\t\tnodes: [],\n\t\t\t\tlinks: [],\n\t\t},\n\t\tforceData:{ // th copy of data for the force graphs\n\t\t\t\tnodes: [],\n\t\t\t\tlinks: [],\n\t\t},\n\t\tselected:{},\n\t\tdefinedNode:{},\n\t\tgraphType: '3D',\n\t\tisError: false,\n\t\terrorMsg: \"\",\n\t\tisFetchFailed: false,\n\t\tisWordNotFound: false,\n\t\twordsNotFound: [],\n\t\tisPathNotFound: false,\n\t\tpathsNotFound: [],\n\t\tisEmpty: true,\n\t\tisLoading: true,\n\t\tsearchTerm: '',\n\t\tDestinationTerm: '',\n\t\tisDeepLinks: false,\n\t\tshowModal: false,\n\t\tisSideBar: true,\n};\n\nconst stateReducer = (state, action) =>{\n\t\t/* make reducer for the words data and internal state */\n\t\tlet node;\n\t\tlet stringLink \n\n\t\t/* finds a node with a given string and colors the node */\n\t\tconst findIdNcolor = (selectedNode, color) =>\n\t\t\t\t(node) => node.id === selectedNode? {...node, color: color }: node; \n\t\t/* reomeves the duplicate node or link in a array */\n\t\tconst removeDuplicateWithSet = ( array ) =>{\n\t\t\t\tlet jsonObject = array.map(JSON.stringify); \n\t\t\t\tlet uniqueSet = new Set(jsonObject); \n\t\t\t\tlet uniqueArray = Array.from(uniqueSet).map(JSON.parse); \n\t\t\t\treturn uniqueArray\n\t\t}\n\n\t\tconst removeDuplicateNodes = ( nodes ) => {\n\t\t\t\tlet keys = new Set();\n\t\t\t\tlet uniqueArray = [];\n\t\t\t\tnodes.forEach( node => { \n\t\t\t\t\t\tif( !keys.has(node.id)){ \n\t\t\t\t\t\t\t\t// if it is not in unique keys\n\t\t\t\t\t\t\t\tuniqueArray.push(node);\n\t\t\t\t\t\t\t\tkeys.add(node.id);\n\t\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\treturn uniqueArray;\n\t\t}\n\n\t\tconst removeDuplicateLinks = ( links ) => {\n\t\t\t\tlet keys = new Set();\n\t\t\t\tlet uniqueArray = [];\n\t\t\t\tlinks.forEach( link => {\n\t\t\t\t\t\t// if it is an link\n\t\t\t\t\t\tlet id = link.source + ',' + link.target;\n\t\t\t\t\t\tif( !keys.has(id) ){ \n\t\t\t\t\t\t\t\t// if it is not in unique keys\n\t\t\t\t\t\t\t\tuniqueArray.push(link);\n\t\t\t\t\t\t\t\tkeys.add(id);\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn uniqueArray;\n\t\t}\n\n\t\tswitch (action.type){\n\t\t\t\tcase 'SET_NEW_NODES':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, ...action.payload ],\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: [ ...state.d3Data.nodes, ...action.payload ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tnodes: [ ...state.forceData.nodes, ...action.payload ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NEW_LINKS':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tlinks: [ ...state.links, ...action.payload ],\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tlinks: [ ...state.d3Data.links, ...action.payload ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tlinks: [ ...state.forceData.links, ...action.payload ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NEW_LINK':\n\t\t\t\t\t\tstringLink = { \n\t\t\t\t\t\t\t\t...action.payload, \n\t\t\t\t\t\t\t\tsource:action.payload.source.id,\n\t\t\t\t\t\t\t\ttarget:action.payload.target.id \n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tlinks: [ ...state.links, stringLink ],\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tlinks: removeDuplicateWithSet([ ...state.d3Data.links, stringLink ]),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tlinks: [ ...state.forceData.links, action.payload ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NODE_LINK':\n\t\t\t\t\t\tstringLink = { \n\t\t\t\t\t\t\t\t...action.payload.link, \n\t\t\t\t\t\t\t\tsource:action.payload.link.source.id,\n\t\t\t\t\t\t\t\ttarget:action.payload.link.target.id,\n\t\t\t\t\t\t\t\tcolor: colors.link.default,\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tnodes: removeDuplicateNodes([ ...state.nodes, action.payload.node ]),\n\t\t\t\t\t\t\t\tlinks: removeDuplicateLinks([ ...state.links, stringLink ]),\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: removeDuplicateNodes([ ...state.d3Data.nodes, { ...action.payload.node } ]),\n\t\t\t\t\t\t\t\t\t\tlinks: removeDuplicateWithSet([ ...state.d3Data.links, stringLink ]),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tnodes: [ ...state.forceData.nodes, action.payload.node ],\n\t\t\t\t\t\t\t\t\t\tlinks: [ ...state.forceData.links, stringLink ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\tcase 'CLEAR_LINKS':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\tcase 'CLEAR_NODES':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tnodes: [],\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: [],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tnodes: [],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_STATE':\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state, \n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, ...action.payload.nodes ],\n\t\t\t\t\t\t\t\tlinks: [ ...state.links, ...action.payload.links ],\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: [ ...state.d3Data.nodes, ...action.payload.nodes ],\n\t\t\t\t\t\t\t\t\t\tlinks: [ ...state.d3Data.links, ...action.payload.links ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tnodes: [ ...state.forceData.nodes, ...action.payload.nodes ],\n\t\t\t\t\t\t\t\t\t\tlinks: [ ...state.forceData.links, ...action.payload.links ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NEW_NODE':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [ { ...action.payload} ],\n\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: [{ ...action.payload, selected: true, color: colors.node.selected  }],\n\t\t\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tnodes: [ action.payload  ],\n\t\t\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tselected: action.payload, // save as selected\n\t\t\t\t\t\t\t\tdefinedNode: action.payload, // save as a definietion \n\t\t\t\t\t\t\t\tisEmpty: false,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_PATH_NODE':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [ ...state.nodes, { ...action.payload.node, selected: true, }],\n\t\t\t\t\t\t\t\tlinks: [ ...state.links, { ...action.payload.link, color: colors.link.onPath } ],\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: [ ...state.d3Data.nodes, { ...action.payload.node, selected: true, }],\n\t\t\t\t\t\t\t\t\t\tlinks: [ ...state.d3Data.links, { ...action.payload.link, color: colors.link.onPath } ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tforceData: {\n\t\t\t\t\t\t\t\t\t\t...state.forceData, \n\t\t\t\t\t\t\t\t\t\tnodes: [ ...state.forceData.nodes, { ...action.payload.node, selected: true, }],\n\t\t\t\t\t\t\t\t\t\tlinks: [ ...state.forceData.links, { ...action.payload.link, color: colors.link.onPath } ],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tselected: action.payload.node, // save as selected\n\t\t\t\t\t\t\t\tdefinedNode: action.payload.node, // save as a definietion \n\t\t\t\t\t\t\t\tisEmpty: false,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NODE_DONE':\n\t\t\t\t\t\tconsole.log(\"switch color to node:\")\n\t\t\t\t\t\tconsole.log(state.nodes.map(findIdNcolor(action.payload.id, colors.node.selected)))\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: state.d3Data.nodes.map(findIdNcolor(action.payload.id, colors.node.done)), \n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tisEmpty: false,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_DEFINED_NODE':\n\t\t\t\t\t\tnode = state.nodes.filter( node => node.id === action.payload )[0];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tdefinedNode: node,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_NODE_SELECTED':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: state.d3Data.nodes.map(findIdNcolor(action.payload.id, colors.node.selected)), \n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tselected: action.payload,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SWITCH_SELECTED_NODE':\n\t\t\t\t\t\tconsole.log(\"switch color to node:\")\n\t\t\t\t\t\tconsole.log(state.nodes.map(findIdNcolor(action.payload.id, colors.node.selected)))\n\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\td3Data: {\n\t\t\t\t\t\t\t\t\t\t...state.d3Data, \n\t\t\t\t\t\t\t\t\t\tnodes: state.d3Data.nodes.map(findIdNcolor(action.payload.id, colors.node.selected)), \n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tselected: action.payload,\n\t\t\t\t\t\t\t\tdefinedNode: action.payload,\n\t\t\t\t\t\t};\n\n\t\t\t\tcase 'ERASE_NODES':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tnodes: [],\n\t\t\t\t\t\t\t\tlinks: [],\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_SEARCH_TERM':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tsearchTerm: action.payload,\t\t\t\t\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_DEST_TERM':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tdestinationTerm: action.payload,\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcase 'TOGGEL_MODAL':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tshowModal: !state.showModal,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_SHOW_MODAL':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tshowModal: action.payload,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_WORD_NOT_FOUND':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t\t\tisWordNotFound: true,\n\t\t\t\t\t\t\t\t// add not found wors to list\n\t\t\t\t\t\t\t\twordsNotFound: new Set([ ...state.wordsNotFound, action.payload]),\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_PATH_NOT_FOUND':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t\t\tisPathNotFound: true,\n\t\t\t\t\t\t\t\tpathsNotFound: new Set([ ...state.pathsNotFound, { ...action.payload}]),\n\t\t\t\t\t\t};\n\t\t\t\tcase 'DISSMISS_ERROR':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisError: false,\n\t\t\t\t\t\t\t\terrorMsg: \"\",\n\t\t\t\t\t\t\t\tisWordNotFound: false,\n\t\t\t\t\t\t\t\twordsNotFound: [],\n\t\t\t\t\t\t\t\tisPathNotFound: false,\n\t\t\t\t\t\t\t\tpathsNotFound:  [],\n\t\t\t\t\t\t};\n\t\t\t\tcase 'TOGGLE_DEEP_LINKS':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisDeepLinks: !state.isDeepLinks,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'TOGGLE_SIDE_BAR':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisSideBar: !state.isSideBar,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_FETCH_FAILED':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t\t\tisFetchFailed: true,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_GRAPH_TYPE':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\t// save the previous graph type\n\t\t\t\t\t\t\t\tprevGraphType : state.graphType,\n\t\t\t\t\t\t\t\t// set changed graph type\n\t\t\t\t\t\t\t\tgraphType: action.payload,\n\t\t\t\t\t\t};\n\t\t\t\tcase 'SET_ERROR':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t\t\terrorMsg: action.payload,\n\t\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error();\n\t\t}\n}\n\nexport { initial_state, stateReducer };\n\n"]},"metadata":{},"sourceType":"module"}